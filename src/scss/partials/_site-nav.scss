// see _base.scss for padding to accomodate site nav

.navbar-wrapper.fixed-top {
    padding-right: 0 !important;
    position: relative;
    
    @include media-breakpoint-up(sm) {
        position: fixed;
    }
}

.navbar {
    background-color: $black;
    box-shadow: 0 .125rem 2rem rgba($black, .75);
    color: $primary;
    font-size: .875rem;
    letter-spacing: .1rem;
    text-transform: uppercase;

    @include media-breakpoint-up(md) {
        font-size: 1rem;
    }
    
    @include media-breakpoint-up(lg) {
        font-size: 1.125rem;
        letter-spacing: .15rem;
    }

    a {
        border-bottom: 0;
        color: $primary;

        &:hover {
            background-color: transparent;
        }
    }

    a.dropdown-item {
        color: rgba($primary,.75);

        &:hover {
            color: rgba($primary,1);
        }
    }

    .navbar-brand {
        font-size: 1rem;
        font-weight: 700;
        letter-spacing: .2rem;

        @include media-breakpoint-up(md) {
            font-size: 1.25rem;
        }
        
        @include media-breakpoint-up(lg) {
            font-size: 1.5rem;
        }
    }

    @include media-breakpoint-up(md) {
        .dropdown-toggle::after {
            display: block;
            left: calc(50% - .51em);
            position: absolute;
        }
    }

    .nav-link {
        white-space: nowrap;

        @include media-breakpoint-up(md) {
            font-family: 'AvenirCn', sans-serif;
            font-style: normal;
            font-weight: 300;
        }

        @include media-breakpoint-up(lg) {
            font-family: 'Avenir', sans-serif;
            font-style: normal;
            font-weight: 300;
        }
    }
}

.dropdown.show > a {
    color: $primary;
}

.navbar .dropdown-menu {
    border-radius: 0;
    box-shadow: 0 .125rem 2rem rgba($black, .75);
    letter-spacing: .075rem;

    .dropdown-item {
        color: rgba($black, .875);
        padding: .25rem 1rem;

        &:active,
        &:focus,
        &:hover {
            color: $black;
        }
    }
}

li.dropdown .dropdown-menu {
  right: 0;
  left: auto;
}

// #blog-1 {
    .navbar-dark .navbar-nav .active > .nav-link,
    .navbar-dark .navbar-nav .show > .nav-link,
    .navbar-dark .navbar-nav .current_page_item > .nav-link,
    .navbar-dark .navbar-nav .current_page_parent > .nav-link {
        color: $primary;
    }
// }

.navbar-dark .navbar-nav .active > .nav-link,
.navbar-dark .navbar-nav .show > .nav-link,
.navbar-dark .navbar-nav .current_page_item > .nav-link,
.navbar-dark .navbar-nav .current_page_parent > .nav-link {
    color: rgba($primary, .75);

    &:active,
    &:focus,
    &:hover {
        color: $primary;
    }
}

.navbar-dark .navbar-brand {
    color: $primary;

    &:active,
    &:focus,
    &:hover {
        color: $primary;
    }
}

// .navbar-dark .navbar-nav .active > .nav-link,
// .navbar-dark .navbar-nav .show > .nav-link,
// .navbar-dark .navbar-nav .current_page_item > .nav-link,
// .navbar-dark .navbar-nav .current_page_parent > .nav-link {
//     @include media-breakpoint-up(md) {
//         // font-family: 'AvenirCn', sans-serif;
//         font-style: normal;
//         font-weight: 300;
//     }

//     @include media-breakpoint-up(lg) {
//         // font-family: 'Avenir', sans-serif;
//         font-style: normal;
//         font-weight: 300;
//     }
// }

.navbar-dark .navbar-nav .nav-link {
    color: rgba($primary, .75);

    &:hover {
        color: rgba($primary, 1)
    }
}

.navbar-dark .navbar-nav .nav-link:focus {
    color: rgba($primary, .85);
}

.navbar-dark .navbar-toggler {
    border-color: rgba($primary, 0.5);
}

.navbar-dark .navbar-toggler-icon {
    background-image: url("data:image/svg+xml;charset=utf8,%3Csvg viewBox='0 0 32 32' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath stroke='rgba(249,228,6,1)' stroke-width='2' stroke-linecap='round' stroke-miterlimit='10' d='M4 8h24M4 16h24M4 24h24'/%3E%3C/svg%3E");
}

@include media-breakpoint-up(md) {
    .navbar-expand-md .navbar-nav .menu-item:last-child .nav-link {
        margin-right: -.5rem;
    }
}

.navbar.navbar-top-banner {
    background-color: $primary;
    padding: .0625rem 1rem;
    text-transform: none;
    z-index: 1;

    @include media-breakpoint-up(md) {
        .menu-item:first-child .nav-link {
            margin-left: -1rem;
        }
    }

    .navbar-nav {
        flex-shrink: 0;
    }

    .nav-link {
        color: $black;
        font-style: normal;
        font-weight: 300;
        font-size: .75rem;
        letter-spacing: 0;
        padding: .25rem 0;
        
        @include media-breakpoint-up(md) {
            padding: .125rem 1rem;
        }

        @include media-breakpoint-up(lg) {
            font-size: .875rem;
        }
    }
}

.navbar-top-banner .navbar-nav .active > .nav-link,
.navbar-top-banner .navbar-nav .show > .nav-link,
.navbar-top-banner .navbar-nav .current_page_item > .nav-link,
.navbar-top-banner .navbar-nav .current_page_parent > .nav-link {
    color: rgba($black, .75);

    &:active,
    &:focus,
    &:hover {
        color: $black;
    }
}

.navbar-top-banner.navbar-dark .navbar-nav .nav-link {
    color: rgba($black, .75);

    &:hover {
        color: $black;
    }
}

#navbarTopLeft {
    z-index: 1;
}

#navbarTopRight {
    // @include media-breakpoint-down(md) {
    //     display: none;
    //     .sr-only {

    //     }
    // }  

    @include media-breakpoint-up(md) {
        // ul li:last-child .nav-link {
        //     margin-right: -1rem;
        // }

        ul li a.nav-link {
            padding: .125rem .5rem;

            .sr-nav {
                position: absolute !important;
                width: 1px !important;
                height: 1px !important;
                padding: 0 !important;
                margin: -1px !important;
                overflow: hidden !important;
                clip: rect(0, 0, 0, 0) !important;
                white-space: nowrap !important;
                border: 0 !important;
            }
        }
    }
}

.navbar-nav .dropdown-menu {
    background-color: $primary;
}

.dropdown-item:hover {
    background-color: $black;
}

#navbarSearch {
    @include media-breakpoint-up(md) {
        margin-left: 1rem;
    }

    &.navbar-collapse {
        flex-grow: 0;
    }

    .dropdown-toggle:after {
        display: none;
    }

    .dropdown-menu {
        padding: 1rem;
        width: 100%;

        @include media-breakpoint-up(md) {
            width: 30rem;
        }    
    }

    input,
    button {
        border: 1px solid rgba($black, .25);
    }
}

.navbar.navbar-subsite {
    background-color: $black;
    border-top: 1px solid $primary;
    letter-spacing: 0;
    padding-bottom: 0;
    padding-top: 0;
    text-transform: none;

    .navbar-nav {
        padding: .25rem 0;

        @include media-breakpoint-up(md) {
            align-items: baseline;
        }
    }

    .menu-item.active a {
        color: $primary;
    }

    .nav-link {
        color: rgba($primary,.75);
        // @include regular;
        font-size: .875rem;
        letter-spacing: 0;
        line-height: 1.375rem;
        padding: .5rem .0;

        @include media-breakpoint-up(md) {
            @include light-condensed;
            font-size: 1.125rem;
            line-height: 1.625rem;
            padding: .25rem .5rem;
        }

        @include media-breakpoint-up(lg) {
            @include light;
        }
    }

    .subsite-home .nav-link {
        font-size: .75rem;
        letter-spacing: .125rem;
        text-transform: uppercase;

        @include media-breakpoint-up(md) {
            font-size: .875rem;
        }
    }

    .menu-item:first-child .nav-link {
        color: $primary;

        @include media-breakpoint-up(md) {
            margin-left: -.5rem;
        }
    }

    .dropdown-toggle {
        &:after {
            margin-left: .375rem;

            @include media-breakpoint-up(md) {
                display: block;
                left: calc(50% - .25rem);
                margin: 0;
                position: absolute;
                top: 1.75rem;
                vertical-align: middle;
            }
        }
    }

    .dropdown-menu {
        background-color: $black;
        letter-spacing: 0;
        margin-top: 0;
        padding: 0;

        @include media-breakpoint-up(md) {
            background-color: $primary;
            margin-top: .125rem;
            padding: .5rem 0;
            right: -.75rem;
        }

        a.dropdown-item {
            color: rgba($primary,.75);
            font-size: .875rem;
            padding: .25rem 1rem;

            &:active,
            &:focus,
            &:hover {
                background-color: transparent;
                color: $primary;
            }

            @include media-breakpoint-up(md) {
                background-color: transparent;
                color: $black;
                // @include light-condensed;

                &:active,
                &:focus,
                &:hover {
                    background-color: transparent;
                    color: $black;
                }

                @include media-breakpoint-up(lg) {
                    // @include light;
                }
            }
        }
    }
}